<article
  class="flex flex-col gap-1 h-full w-full bg-[#E0E0E0] hover:ring-1 hover:ring-slate-400/75 transition-150 transition-all"
>
  <img
    [ngSrc]="product().thumbnailSrc"
    width="196"
    height="110"
    class="w-full"
    alt="{{ product().title }} thumbnail image"
  />
  <div class="flex flex-col gap-2 justify-between h-full w-full p-1.5">
    <p class="line-clamp-2 w-full text-sm font-semibold text-[#212121] uppercase tracking-tight">
      {{ product().title }}
    </p>
    <div class="flex items-center justify-end gap-1.5">
      @if (product().calculateDiscountPercentage() && !isInCart()) {
        <span
          class="bg-[#00905E] w-[42px] h-[22px] rounded-xs inline-flex items-center justify-center text-[13px] font-semibold text-white"
        >
          -{{ product().calculateDiscountPercentage() }}%
        </span>
      }

      @if (product().is_owned) {
        <span
          class="border-1 h-[22px] py-0.5 px-2 border-[#979797] rounded-xs inline-flex items-center justify-center text-[13px] font-semibold text-[#404040] opacity-50"
        >
          OWNED
        </span>
      } @else if (isInCart()) {
        <span
          class="border-1 h-[22px] py-0.5 px-2 border-[#979797] rounded-xs inline-flex items-center justify-center text-[13px] font-semibold text-[#404040]"
        >
          IN CART
        </span>
      } @else {
        <button
          type="button"
          data-test="add-to-cart"
          aria-label="Add {{ product().title }} to cart"
          (click)="addToCart.emit(product())"
          class="border-1 h-[22px] py-0.5 px-2 border-[#979797] transition-150 transition-all hover:bg-slate-600 hover:text-white cursor-pointer rounded-xs inline-flex items-center justify-center text-[13px] font-semibold text-[#404040]"
        >
          {{
            productPrice() | currency: product().currency_code : 'symbol' : product().digits_info
          }}
        </button>
      }
    </div>
  </div>
</article>
